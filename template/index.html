{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="{% static 'style.css' %}">
        <link rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
            <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
            crossorigin="anonymous">
        <link
            href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700"
            rel="stylesheet">

        <style>
        body {
            background-color: black;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .navbar {
            background-color: black;
        }

        .navbar-brand {
            font-size: 28px;
            color: #ff6600;
        }

        .navbar-toggler-icon {
            background-color: #ff6600;
        }

        .nav-link {
            color: white;
        }

        .nav-link:hover {
            color: #ff6600;
        }

        .btn-primary {
            background-color: #ff6600;
            border-color: #ff6600;
        }

        .btn-primary:hover {
            background-color: #e65c00;
            border-color: #e65c00;
        }
        .custom_col{

            color: #e65c00;
        }
        #bg-img {
           height: auto;
           width: fit-content;
           
        }
    
        #bg-img img {
            object-fit: cover;
            width: 100%;
            height: 100%;
        }
        .carousel-caption_custom{

       position: absolute;
        left: 430px;
        right: 0px;
        top: 300px;
        bottom: 0;

        }
        .custom_color{

             color: #ffffff;
             -webkit-text-stroke-width: 2px;
  -webkit-text-stroke-color: black;
     font-size: 50px;
     font-weight: bold;
     text-shadow: 0px 10px 10px rgba(255, 255, 255, 0.4);


        }
        .custom_text{

               position: relative;
              right: 180px;
              font-weight: bold;
              -webkit-text-stroke: 1px black;
             font-size: 25px;
   color: white;
   text-shadow:
       1px 1px 0 #000,
     -1px -1px 0 #000,  
      1px -1px 0 #000,
      -1px 1px 0 #000,
       1px 1px 0 #000;
        }
        #head{

            font-size: 52px;
            font-weight: 700;
        }
        .customcard{
            background-color: rgb(255, 255, 255);
            height: auto;
            padding: 10px 20px;
            color: #000;
            
        }
        .customHead{
         font-weight: 800;
         font-size: 34px;
         text-align: center;
         margin: 10px 0px;

        }
        .centermain{

            display: flex;
            justify-content: center;
            align-items: center;
            
        }

.uname{
    color: #e65c00;
}
        /* Add any additional custom styles you need here */
.landing-container{
    width: 100%;
    height: 100vh;
    position: relative;
    background-repeat: no-repeat;
    background-size: cover;
    background-image:url("https://c4.wallpaperflare.com/wallpaper/875/627/582/fast-furious-movies-paul-wallpaper-preview.jpg");}
    
.namedmin{    position: absolute;
    top: 30%;
    position: absolute;
    top: 45%;
    text-align: center;
    left: 36%;
    color: white;
    font-weight: bolder;
    font-size: 55px;
};



body{margin-top:20px;}
 .pricing-content{}
.single-pricing{
background:#fff;
padding:40px 20px;
border-radius:5px;
position:relative;
z-index:2;
border:1px solid #eee;
box-shadow: 0 10px 40px -10px rgba(0,64,128,.09);
transition:0.3s;
}
@media only screen and (max-width:480px) { 
.single-pricing {margin-bottom:30px;}
}
.single-pricing:hover{
box-shadow:0px 60px 60px rgba(0,0,0,0.1);
z-index:100;
transform: translate(0, -10px);
}
.price-label {
    color: #fff;
	background: #ffaa17;
	font-size: 16px;
	width: 100px;
	margin-bottom: 15px;
	display: block;
	-webkit-clip-path: polygon(100% 0%, 90% 50%, 100% 100%, 0% 100%, 0 50%, 0% 0%);
	clip-path: polygon(100% 0%, 90% 50%, 100% 100%, 0% 100%, 0 50%, 0% 0%);
	margin-left: -20px;
	position: absolute;
}
.price-head h2 {
	font-weight: 600;
	margin-bottom: 0px;
	text-transform: capitalize;
	font-size: 26px;
}
.price-head span {
	display: inline-block;
	background:#ffaa17;
	width: 6px;
	height: 6px;
	border-radius: 30px;
	margin-bottom: 20px;
	margin-top: 15px;
}
.price {
	font-weight: 500;
	font-size: 50px;
	margin-bottom: 0px;
}
.single-pricing{}
.single-pricing h5 {
	font-size: 14px;
	margin-bottom: 0px;
	text-transform: uppercase;
}
.single-pricing ul{
list-style: none;
margin-bottom: 20px;
margin-top: 30px;
}

.single-pricing ul li{line-height: 35px;}
.single-pricing a {
background:none;
border: 2px solid #ffaa17;
border-radius: 5000px;
color: #ffaa17;
display: inline-block;
font-size: 16px;
overflow: hidden;
padding:10px 45px;
text-transform: capitalize;
transition: all 0.3s ease 0s;
}
.single-pricing a:hover, .single-pricing a:focus{
background:#ffaa17;
color:#fff;
border: 2px solid #ffaa17;
}
.single-pricing-white{background: #232434}
.single-pricing-white ul li{color:#fff;}
.single-pricing-white h2{color:#fff;}
.single-pricing-white h1{color:#fff;}
.single-pricing-white h5{color:#fff;}

#id_feedback_text{
    width: 100%;
}
/* Add these styles to your existing CSS or create a new style block */
.event-card {
    display: flex;
background-image: url("{%static 'img/img.jpg'%}");
background-repeat: none;
background-size: cover;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100vh;
    padding: 20px;
    background-color: #fff;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    box-sizing: border-box;
    text-align: center;
    margin: 20px auto; /* Center the card */
}

.event-card h3 {
    margin-top: 20px;
    color: #f6f4f4;
    font-size: 60px;
    margin-bottom: 10px;
}


.event-card button {
    background-color: #ff6600;
    color: #fff;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.3s ease;
}

.event-card button:hover {
    background-color: #e65c00;
}
.event-card {
    position: relative;
}

.event-card h3,
.event-card p,
.event-card button {
    position: relative;
    z-index: 1;
}

.event-card .event-image {
    width: 100%; /* Adjust the width based on your design */
    height: 330%; /* Maintain aspect ratio */
    position: absolute;
    top: 0;
    left: 0;
    border-radius: 8px 8px 0 0; /* Rounded corners for the top */
    z-index: 0;
}
</style>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
            crossorigin="anonymous"></script>
        <title>Parking Hub</title>
    </head>

    <body>
        <div class="alan-btn"></div>
        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid">
                <a class="navbar-brand p-3 fs-3 text-white fw-bold"
                    href="http://127.0.0.1:8000/">PARKING <span
                        class="custom_col">HUB</span></a>
                <button class="navbar-toggler" type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse"
                    id="navbarSupportedContent">
                    <ul
                        class="navbar-nav m-end justify-content-end align-items-center  w-100">
                        {% if user.is_superuser %}
                        <li class="nav-item"><a class="nav-link m-2"
                                href="{% url 'addslot' %}">Add Slot</a></li>
                        <li class="nav-item"><a class="nav-link m-2"
                                href="{% url 'add_subscription' %}">sub</a></li>
                        <li class="nav-item"><a class="nav-link m-2"
                                href="{% url 'admin_feedback' %}">Feedbacks</a></li>
                        <li class="nav-item"><a class="nav-link m-2"
                                href="{% url 'show_activity'%}">View activity</a></li>
                        <div class="d-flex justify-content-center">
                            <a href="{% url 'process2' %}"
                                class="btn btn-primary m-2">Exit Cam</a>
                            <a href="{% url 'process' %}"
                                class="btn btn-primary m-2">Entry Cam</a>
                        </div>
                        <li class="nav-item"><a class="nav-link m-2"
                                href="http://127.0.0.1:8000/data/">Show Bookings</a></li>
                        <li class="nav-item"><a class="nav-link m-2"
                                href="http://127.0.0.1:8000/logout/">Log-out</a></li>
                        <div class="shadow-lg rounded"><p
                                class="m-3 text-capitalize text-primary"><i
                                    class="bi bi-person-fill"></i>
                                {{user.username}}</p></div>
                        {% elif user.is_authenticated %}
                        <!-- <a href="{% url 'book_event' %}" class="button-link">Event Booking</a> -->
                        <li class="nav-item"><a class="nav-link m-2"
                                href="{% url "mybooking" %}">My Bookings</a></li>
                        <li class="nav-item"><a class="nav-link m-2"
                                href="http://127.0.0.1:8000/logout/">Log-out</a></li>

                        <li class="d-none d-xl-block">
                            <a href="{% url 'profile' %}"
                                class="btn-style1 medium primary text-decoration-none uname"><i
                                    class="bi bi-person-fill"></i>{{user.username}}</a>
                        </li>
                        <!-- <div class="shadow-lg rounded"><p class="m-3 text-capitalize text-primary"><i class="bi bi-person-fill"></i> {{user.username}}</p></div> -->
                        {% else %}
                        <li class="nav-item">
                            <a class="nav-link m-2" aria-current="page"
                                href="http://127.0.0.1:8000/login/">Login</a>
                        </li>
                        <li class="nav-item m-2">
                            <a class="nav-link"
                                href="http://127.0.0.1:8000/register/">Sign-up</a>
                        </li>
                        {% endif %}

                    </ul>
                </div>
            </div>
        </nav>

        {% if user.is_superuser %}
        <div class="landing-container">
            <div class="namedmin text-center">
                Hello admin {{user.username}}
            </div>
        </div>
        {% else %}
        <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner" id="bg-img">
                <div class="carousel-item active relative">
                    <img class
                        src="https://www.topgear.com/sites/default/files/2022/10/16%20Porsche%20911%20GT3%20RS.jpg"
                        class="d-block w-100" alt="Image 1">
                    <div class="carousel-caption_custom mb-36 d-none d-md-block">

                        <p id="head" class=" custom_color pt-5 p-5 pb-0">
                            Looking for a parking slot?
                        </p>
                        <p class="text-center custom_text pt-1 p-5">Don't worry.
                            We got your back</p>
                    </div>
                </div>

                <div class="carousel-item">
                    <img
                        src="https://www.topgear.com/sites/default/files/2022/10/1%20Porsche%20911%20GT3%20RS.jpg"
                        class="d-block w-100" alt="Image 2">
                    <div class="carousel-caption_custom d-none d-md-block">
                        <p id="head" class=" mb-36 custom_color pt-5 p-5 pb-0">
                            Finding parking made easy
                        </p>
                        <p class="text-center custom_text pt-1 p-5">Our solution
                            takes the hassle away</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img
                        src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjSMLIgwt_3x3wMEacjwvSIq43-gOYnTLKWENw0L2GTTr939VtBAyGT_YAeATeq2ytQSExPA0AwdXhHq4SSZUJQjDmxahOankTZh9JpBXj5dZcPl3jCC5G3vauCj_9esXT1NnROvwVaS8IxyIu6ROyB5h6LfYFLuBfNm6k_vkd2pbmb4U1fKVP3z6zBKA/s2560/Porsche-911-GT3-RS-992-2023%20%286%29.jp"
                        class="d-block w-100" alt="Image 2">
                    <div class="carousel-caption_custom d-none d-md-block">

                    </div>
                </div>
                <div class="carousel-item">
                    <img src="https://wallpaperset.com/w/full/1/a/1/464474.jpg"
                        class="d-block w-100" alt="Image 2">
                    <div class="carousel-caption_custom d-none d-md-block">

                    </div>
                </div>
                <!-- Add more carousel items as needed -->
            </div>
            <a class="carousel-control-prev" href="#carouselExample"
                role="button" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExample"
                role="button" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </a>
        </div>
        {% endif %}

        <div class="bg-dark p-5">
            
        </div>
        <div class="container-fluid col-12 d-flex justify-content-center bg-dark">
            <div class="map" id="myMap" style="width: 90%; height: 500px"></div>
        </div>
        <div class="bg-dark p-5">
            
        </div>
        <div class="centermain">
            <h1 class="text-white customHead text-center">Our Spaces</h1>
        </div>

        <div class="d-flex flex-wrap mt-8 justify-content-center">

            {% for i in data %}
            <div
                class="col-lg-3 col-12 mt-3 rounded shadow-lg p-3 text-center m-2">
                
                <div class="img-slot"><img class="w-100 rounded" src="{{ i.photo.url }}" alt=""></div>
                
                <div class="customcard">

                    <p class="fs-3 fw-bold">{{i.stname}}</p>
                    <p class="fs-5 desc">Total {{i.maxslot}} Slots</p>
                    <p class="fs-5 desc">Total {{i.price}}</p>

                    {% if user.is_superuser %}
                    <a href="{% url 'update' i.id %}"><button
                            class="btn btn-outline-info"><i
                                class="bi bi-pencil-square"></i> Update Slot</button></a>
                    <a href="{% url 'delete' i.id %}"><button
                            class="btn btn-outline-danger"><i
                                class="bi bi-trash3-fill"></i> Delete Slot</button></a>
                    {% elif user.is_authenticated %}
                    <a href="{% url 'slot' i.id %}"><button
                            class="btn btn-outline-success">Rs. {{i.price}}/hr</button></a>
                    <!-- <a href="#"><button class="btn btn-outline-primary"><i class="bi bi-geo-alt-fill"></i> Direction</button></a> -->
                    {% else %}
                    <button class="btn btn-success disabled" disabled>Rs.
                        {{i.price}}/hr</button>
                    <p class="text-danger mt-3">You need to login to your
                        account</p>
                    {% endif %}
                </div>

            </div>
            {% endfor %}
        </div>

        {% if user.is_superuser %}

        {% else %}

        <section id="pricing" class="pricing-content section-padding">
            <div class="container">                    
                <div class="section-title text-center">
                    <h1>Pricing Plan</h1>
                    <p>It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout.</p>
                </div>
                
                <div class="row text-center">
                    {% for subscription_type, features in subscription_features %}                                          
                        <div class="col-lg-4 col-sm-4 col-xs-12 wow fadeInUp" data-wow-duration="1s" data-wow-delay="0.3s" data-wow-offset="0">
                            <div class="single-pricing single-pricing-white">
                                <div class="price-head">                                
                                    <h2>{{ subscription_type }}</h2>
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                                <span class="price-label">Best</span>
                                <h1 class="price">
                                    {% for subscription in subscriptions %}
                                        {% if subscription.sub_type == subscription_type %}

                                            {{ subscription.price }}<br>
                                            <a id="pay-btn" >Get start</a>
                                        {% endif %}
                                    {% endfor %}
                                </h1>
                                <ul>
                                    {% for feature in features %}
                                        <li>{{ feature }}</li>
                                    {% endfor %}
                                </ul>     
<!-- Update your HTML template -->
                            
                            </div>
                        </div><!--- END COL -->    
                    {% endfor %}           
                </div><!--- END ROW -->
            </div><!--- END CONTAINER -->
        </section>

        <div class="m-5 text-center text-white">
            <p class="h1 fw-bold">
                How does it work?
            </p>
            <p class="text-secondary">
                Allow us to provide a concise overview of the functioning and
                operations of the system, explaining how it
                works and the underlying processes involved.
            </p>
        </div>
        <div class="w-100 p-3 d-flex mt-5 text-white">
            <div class="col-2 text-center text-primary"><i
                    class="bi bi-geo-alt-fill fs-1"></i></div>
            <div class="col-10 d-flex flex-column">
                <p class="h1 text-primary fw-bold ">Find the best parking</p>
                <p class>
                    For the best parking near your destination, use reliable
                    mapping apps to explore nearby options based on proximity,
                    convenience, and pricing.</p>
            </div>
        </div>
        <div class="w-100 p-3 d-flex">
            <div class="col-2 text-center text-primary"><i
                    class="bi bi-currency-dollar fs-1"></i></div>
            <div class="col-10 d-flex flex-column">
                <p class="h1 text-primary fw-bold text-white">Book your spot at
                    a good price</p>
                <p class="text-white">
                    By booking your parking spot at a competitive price, you not
                    only secure your space but also save time and avoid
                    unnecessary circling around in search of parking.</p>
            </div>
        </div>
        <div class="w-100 p-3 d-flex">
            <div class="col-2 text-center text-primary text-white"><i
                    class="bi bi-file-post fs-1"></i></div>
            <div class="col-10 d-flex flex-column">
                <p class="h1 text-primary fw-bold">Show your reservation when
                    you arrive at the parking lot.</p>
                <p class>
                    Upon your arrival at the parking lot, please present your
                    reservation confirmation to the attendant. However, if the
                    parking lot is equipped with a license plate reader system,
                    there may be no need for you to display your reservation.</p>
            </div>
        </div>
        <!-- <h1 style="color: white; margin-left :50px" >Submit your valuable feedback here!</h1>
        <div class="m-5">
            <form style="color: #eee;" method="post">
                {% csrf_token %}
                {{ feedback_form.as_p }}
                <button class="btn btn-success m-3" type="submit">Submit</button>
            </form>
        </div>
         -->
        <!-- <div class="m-5">
            <textarea placeholder="Feedback" name="feed" id cols="30" rows="5"
                class="form-control shadow-none"></textarea>
            <button class="btn btn-success m-3" type="submit">Submit</button>
        </div> -->
            <div class="event-card">
                <div>
                <h3 >Book for your Event</h3>
                <p class="text-light fs-4">Book a large slot for almost 40 cars at ease </p>
                
                <!--    <img src="{%static 'img/img.jpg'%}" alt="Event Image" class="event-image"> -->
                <button class="book-button  "><a href="{% url 'book_event' %}" class="button-link" style="text-decoration: none; color: #fff; font-size:medium;">Event Booking</a></button>
                </div>
            </div>
        
        {% endif %}
    </body>
    <script type="text/javascript" src="https://www.bing.com/api/maps/mapcontrol?key=Agyr0UQGWTFzP3Fwb3PDJ_ahP24jx9jRgpUWwBD_37B8MXu1oql6WCs6J-vgU1YT"></script>

    <script>
        var map;
        var searchManager;
    
        function initMap() {
            map = new Microsoft.Maps.Map("#myMap", {
                credentials: "Agyr0UQGWTFzP3Fwb3PDJ_ahP24jx9jRgpUWwBD_37B8MXu1oql6WCs6J-vgU1YT",
                zoom: 10,
            });
    
            // Retrieve data from Django view and loop through it
            var locations = [
                {% for record in data %}
                {
                    latitude: {{ record.latitude }},
                    longitude: {{ record.longitude }},
                    stname: "{{ record.stname }}",
                    place: "{{ record.place }}"
                },
                {% endfor %}
            ];
    
            // Create markers for each location
            for (var i = 0; i < locations.length; i++) {
                var location = locations[i];
                var marker = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(location.latitude, location.longitude), {
                    title: location.stname,
                    subTitle: location.place
                });
                map.entities.push(marker);
            }
        }
    
        // Call the initMap function once the page is loaded
        window.onload = initMap;
    </script>



#Payment
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script>
    var options = {
  
      // Enter the Key ID generated from the Dashboard
      key: "{{ razorpay_merchant_key }}",
  
      // Amount is in currency subunits.
      // Default currency is INR. Hence,
      // 50000 refers to 50000 paise
      amount: "{{ razorpay_amount }}",
      currency: "{{ currency }}",
  
      // Your/store name.
      name: "Dj Razorpay",
  
      // Pass the id obtained in the response of Step 1
      order_id: "{{ razorpay_order_id }}",
      callback_url: "{{ callback_url }}",
    };
  
    // initialise razorpay with the options.
    var rzp1 = new Razorpay(options);
  
    // add event listener to the payment button.
    document.getElementById("pay-btn").onclick = function (e) {
      rzp1.open();
      e.preventDefault();
    };
  </script>


  <script type="text/javascript"
 src="https://studio.alan.app/web/lib/alan_lib.min.js"></script>
<script>
  var alanBtnInstance = alanBtn({
    key: "00cb69f0b25eafdee8b498f3a966901a2e956eca572e1d8b807a3e2338fdd0dc/stage",
    onCommand: function (commandData) {
      if (commandData.command === "go:back") {
        //call client code that will react on the received command
      }
    },
    rootEl: document.getElementById("alan-btn"),
  });
</script>
</html>